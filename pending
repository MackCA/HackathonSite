//Get user data for page that requires it
firebase.auth().onAuthStateChanged(function (user) {
    if (user) {
        // User is signed in.
        var displayName = user.displayName;
        var email = user.email;
        var emailVerified = user.emailVerified;
        var photoURL = user.photoURL;
        var isAnonymous = user.isAnonymous;
        var uid = user.uid;
        var providerData = user.providerData;
        // ...
    } else {
        // User is signed out.
        // ...
    }
});



firebase.database().ref('users/' + userId).set({
    username: name,
    email: email,
    profile_picture: imageUrl
}, );
}
switch (teamData.length) {
               case 4:
                   {
                       function writeUserData(userId, teamName, memberName1, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               projectSummary: teamData[2],
                               emblem: teamData[3]
                           })
                       }
                       break;
                   }
               case 5:
                   {
                       function writeUserData(userId, teamName, memberName1, memberName2, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               memberName2: teamData[2],
                               projectSummary: teamData[3],
                               emblem: teamData[4]
                           })

                       }
                       break;
                   }
               case 6:
                   {
                       function writeUserData(userId, teamName, memberName1, memberName2, memberName3, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               memberName2: teamData[2],
                               memberName3: teamData[3],
                               projectSummary: teamData[4],
                               emblem: teamData[5]
                           })

                       }
                       break;
                   }
               case 7:
                   {
                       function writeUserData(userId, teamName, memberName1, memberName2, memberName3, memberName4, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               memberName2: teamData[2],
                               memberName3: teamData[3],
                               memberName3: teamData[4],
                               projectSummary: teamData[5],
                               emblem: teamData[6]
                           })

                       }
                       break;
                   }
           }
           
           function profileUpdate() {
     // Get a reference to the database service
     var databaseRef = firebase.database().ref('users');

     function submitData(e) {
         e.preventDefault();
         var teamData = [];

         //Collect form data and put into an array 'teamData'
         function setTeamData() {

             var fields = ['team-name', 'member-name-1', 'member-name-2', 'member-name-3', 'member-name-4', 'description-input', 'emblem-input'];

             for (var i = 0; i < fields.length; i++) {
                 if (document.getElementById(fields[i]).value != null) {
                     var teamDataUpdate = teamData.push(document.getElementById(fields[i]).value);
                 }
             }
             var formData = JSON.stringify($("teamData").serializeArray());
             //teamList.push(teamData);
         }
         var newDataref = databaseRef.push();
         newDataref.set({
             formData
         });
     }
 }





 var database = firebase.database();
 //var teamList = [];
 ///get User Profile
 var user = firebase.auth().currentUser;
 var teamName, memberName1, memberName2, memberName3, projectSummary, emblem, uid, emailVerified;

 if (user != null) {
     teamName: user.teamName;
     memberName1: user.memberName1;
     memberName2: user.memberName2;
     memberName3: user.memberName3;
     memberName4: user.memberName4;
     projectSummary: user.projectSummary;
     emblem = user.emblem;
     emailVerified = user.emailVerified;
     uid = user.uid; // The user's ID, unique to the Firebase project. Do NOT use
     // this value to authenticate with your backend server, if
     // you have one. Use User.getToken() instead.
 }
 // https: //sccc-hackathon-spring-2019.firebaseio.com/
 
 
 
 
 
 
 {
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null"
  }
}


 var user = firebase.auth().currentUser;
  user.updateProfile({
    displayName: "Jane Q. User",
    photoURL: "https://example.com/jane-q-user/profile.jpg"
  }).then(function() {
  // Update successful.
  }, function(error) {
  // An error happened.
 });

for(int i=0; i<firebase.database().ref("users").numChildren()){
}



   var userDataRef = firebase.database().ref("users").orderByKey();
   userDataRef.once("value").then(function (snapshot) {
       snapshot.forEach(function (childSnapshot) {
           var key = childSnapshot.key;
           var childData = childSnapshot.val();
           var teamNameVal = childSnapshot.val().teamName;
           var member1Val = childSnapshot.val().memberName1;
           var member2Val = childSnapshot.val().memberName2;
           var member3Val = childSnapshot.val().memberName3;
           var member4Val = childSnapshot.val().memberName4;
           var projectSummaryVal = childSnapshot.val().projectSummary;
           var emblemVal = childSnapshot.val().emblem;

           $("#name").append(name_val);
           $("#id").append(id_val);

       });
   });
   
      //get elements
   var preObject = document.getElementById('object');
   //create references
   var dbRefObject = firebase.database().ref().child('users');
   
     // Get a reference to the storage service, which is used to create references in your storage bucket
       var storage = firebase.storage();
       // Create a storage reference from our storage service
       var storageRef = storage.ref();
       // Create a child reference
       var imagesRef = storageRef.child('users');
       // imagesRef now points to 'images'


       var dbdata = ["hi"];
       var userDataRef = firebase.database().data.ref.root;
       userDataRef.once("value").then(function (snapshot) {
           snapshot.forEach(function (childSnapshot) {
               var key = childSnapshot.key;
               var childData = dbdata.push(childSnapshot.val());
               var teamNameVal = dbdata.push(childSnapshot.val().teamName);
               var member1Val = dbdata.push(childSnapshot.val().memberName1);
               var member2Val = dbdata.push(childSnapshot.val().memberName2);
               var member3Val = dbdata.push(childSnapshot.val().memberName3);
               var member4Val = dbdata.push(childSnapshot.val().memberName4);
               var projectSummaryVal = dbdata.push(childSnapshot.val().projectSummary);
               var emblemVal = dbdata.push(childSnapshot.val().emblem);


               //for(var i=0; i<dbData.length; i++){

               document.getElementById("teamListHead1").innerHTML = dbData[0];
               document.getElementById("").innerHTML = dbData[i];
               document.getElementById("").innerHTML = dbData[i];
               document.getElementById("").innerHTML = dbData[i];
               document.getElementById("").innerHTML = dbData[i];
               document.getElementById("").innerHTML = dbData[i];
               document.getElementById("").innerHTML = dbData[i];
               // }
               var teamData = [];
               document.getElementById("teamListHead1").innerHTML = teamNameVal.value; //(i + 1) + ": " + array[i];
               // $("#teamName").append(teamNameVal);
               // $("#member1").append(member1Val);



               // document.getElementById("teamListHead1").innerHTML += "Hi"; //(i + 1) + ": " + array[i];

               console.log(dbdata[0], dbdata[1], dbdata['cat'], dbdata['']);
           });
       });