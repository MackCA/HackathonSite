//Get user data for page that requires it
firebase.auth().onAuthStateChanged(function (user) {
    if (user) {
        // User is signed in.
        var displayName = user.displayName;
        var email = user.email;
        var emailVerified = user.emailVerified;
        var photoURL = user.photoURL;
        var isAnonymous = user.isAnonymous;
        var uid = user.uid;
        var providerData = user.providerData;
        // ...
    } else {
        // User is signed out.
        // ...
    }
});



firebase.database().ref('users/' + userId).set({
    username: name,
    email: email,
    profile_picture: imageUrl
}, );
}
switch (teamData.length) {
               case 4:
                   {
                       function writeUserData(userId, teamName, memberName1, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               projectSummary: teamData[2],
                               emblem: teamData[3]
                           })
                       }
                       break;
                   }
               case 5:
                   {
                       function writeUserData(userId, teamName, memberName1, memberName2, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               memberName2: teamData[2],
                               projectSummary: teamData[3],
                               emblem: teamData[4]
                           })

                       }
                       break;
                   }
               case 6:
                   {
                       function writeUserData(userId, teamName, memberName1, memberName2, memberName3, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               memberName2: teamData[2],
                               memberName3: teamData[3],
                               projectSummary: teamData[4],
                               emblem: teamData[5]
                           })

                       }
                       break;
                   }
               case 7:
                   {
                       function writeUserData(userId, teamName, memberName1, memberName2, memberName3, memberName4, projectSummary, emblem) {
                           firebase.database().ref('users/' + userId).set({
                               teamName: teamData[0],
                               memberName1: teamData[1],
                               memberName2: teamData[2],
                               memberName3: teamData[3],
                               memberName3: teamData[4],
                               projectSummary: teamData[5],
                               emblem: teamData[6]
                           })

                       }
                       break;
                   }
           }
           
           function profileUpdate() {
     // Get a reference to the database service
     var databaseRef = firebase.database().ref('users');

     function submitData(e) {
         e.preventDefault();
         var teamData = [];

         //Collect form data and put into an array 'teamData'
         function setTeamData() {

             var fields = ['team-name', 'member-name-1', 'member-name-2', 'member-name-3', 'member-name-4', 'description-input', 'emblem-input'];

             for (var i = 0; i < fields.length; i++) {
                 if (document.getElementById(fields[i]).value != null) {
                     var teamDataUpdate = teamData.push(document.getElementById(fields[i]).value);
                 }
             }
             var formData = JSON.stringify($("teamData").serializeArray());
             //teamList.push(teamData);
         }
         var newDataref = databaseRef.push();
         newDataref.set({
             formData
         });
     }
 }





 var database = firebase.database();
 //var teamList = [];
 ///get User Profile
 var user = firebase.auth().currentUser;
 var teamName, memberName1, memberName2, memberName3, projectSummary, emblem, uid, emailVerified;

 if (user != null) {
     teamName: user.teamName;
     memberName1: user.memberName1;
     memberName2: user.memberName2;
     memberName3: user.memberName3;
     memberName4: user.memberName4;
     projectSummary: user.projectSummary;
     emblem = user.emblem;
     emailVerified = user.emailVerified;
     uid = user.uid; // The user's ID, unique to the Firebase project. Do NOT use
     // this value to authenticate with your backend server, if
     // you have one. Use User.getToken() instead.
 }
 // https: //sccc-hackathon-spring-2019.firebaseio.com/
 
 
 
 
 
 
 {
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null"
  }
}


 var user = firebase.auth().currentUser;
  user.updateProfile({
    displayName: "Jane Q. User",
    photoURL: "https://example.com/jane-q-user/profile.jpg"
  }).then(function() {
  // Update successful.
  }, function(error) {
  // An error happened.
 });
